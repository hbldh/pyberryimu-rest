{% extends "base.html" %}
{% block title %}{{ title }}{% endblock %}

{% block stylesheets %}
    <!-- CUSTOM STYLESHEET -->
    <link rel="stylesheet" href="https://cdn.datatables.net/plug-ins/1.10.7/integration/bootstrap/3/dataTables.bootstrap.css">
{% endblock %}

{% block page_content %}
    <div class="regular-page">
        <div class="container" style="width:80%;">
            <!-- Start Image Block
        ================================================== -->
            <section id="image" class="section">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="overview animate" data-animate="flipInX">
                            <h1>Past Sessions</h1>
                            <p class="lead">
                                These recordings are present on this Raspberry Pi.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="row" id="table-div">
                    <div class="col-sm-12">
                        <table id="the-table" class="table table-striped table-bordered" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Date</th>
                                    <th>Name</th>
                                </tr>
                            </thead>

                            <tfoot>
                                <tr>
                                    <th>ID</th>
                                    <th>Date</th>
                                    <th>Name</th>
                                </tr>
                            </tfoot>

                            <tbody>
                            {% for s in files %}
                                <tr>
                                    <td>
                                        <a href={{ url_for('item_page', oid=s['uuid']) }}><i class="fa fa-download"></i> {{ s['uuid'] }}</a>
                                    </td>
                                    <td>{{ s.get('date') }}</td>
                                    <td>{{ s.get('name') }}</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <!-- ==================================================
    End Image Block -->

{% endblock %}

{% block javascripts %}
    <!-- CUSTOM SCRIPT -->
    <script src="https://cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/plug-ins/1.10.7/integration/bootstrap/3/dataTables.bootstrap.js"></script>

<script type="text/javascript">
    $(document).ready(function() {
        $('#the-table').dataTable({
            "order": [[1, "asc"]],
            "lengthMenu": [10, 25, 50, 100]
        });
    });

</script>

{% endblock %}
